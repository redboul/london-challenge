<div class="day">
  <div class="day-header">
    <button
      mat-fab
      color="primary"
      aria-label="Back to categories"
      (click)="back()"
    >
      <mat-icon>arrow_back</mat-icon>
    </button>
    <div class="day-name">{{ day?.labelLong }}</div>
  </div>
  <div class="day-progressBar">
    <mat-progress-bar
      mode="determinate"
      [value]="fulfilledChallengesPercentage()"
    ></mat-progress-bar>
    <div class="day-progressBar-status">
      {{ fulfilledChallenges?.length }}/{{ challenges?.length }}
    </div>
  </div>
  <div class="day-challenges">
    <div
      class="day-challenges-category"
      *ngFor="let categoryAndChallenges of challengesByCategory"
    >
      <mat-list>
        <div *ngIf="categoryAndChallenges[0]" mat-subheader>
          <h3>{{ categoryAndChallenges[0] }}</h3>
        </div>
        <mat-list-item *ngFor="let challenge of categoryAndChallenges[1]">
          <app-challenge
            matRipple
            [challenge]="challenge"
            (click)="goToChallenge(challenge)"
          ></app-challenge>
        </mat-list-item>
      </mat-list>
    </div>
  </div>

  <div class="day-otherDays">
    <mat-form-field>
      <mat-select
        placeholder="All days"
        (selectionChange)="updateSelectedDay($event)"
        [(ngModel)]="dayId"
      >
        <mat-option *ngFor="let otherDay of dayList" [value]="otherDay.id">
          {{ otherDay.dayName }}
        </mat-option>
      </mat-select>
    </mat-form-field>
  </div>
</div>
